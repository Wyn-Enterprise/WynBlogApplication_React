{"ast":null,"code":"var _jsxFileName = \"/home/ali/dt/wyn/ghrepos/embedded/WynBlogApplication_React/src/components/SignIn.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignIn } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignIn = ({\n  onTokenValidated\n}) => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [token, setToken] = useState(localStorage.getItem('WinEnterpriseToken'));\n  const [errorMessage, setErrorMessage] = useState('');\n  const handleSubmit = async () => {\n    var urlencoded = new URLSearchParams();\n    urlencoded.append(\"grant_type\", \"password\");\n    urlencoded.append(\"username\", username);\n    urlencoded.append(\"password\", password);\n    urlencoded.append(\"client_id\", \"integration\");\n    urlencoded.append(\"client_secret\", process.env.REACT_APP_CLIENT_SECRET);\n    const response = await fetch(process.env.REACT_APP_PORTAL_URL + \"/connect/token\", {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      redirect: 'follow',\n      body: urlencoded\n    });\n    await response.json().then(res => {\n      var token = res.access_token;\n      if (token) {\n        setToken(token);\n        setErrorMessage(\"\");\n        localStorage.setItem('WinEnterpriseToken', token);\n      } else {\n        setErrorMessage(\"Authorization error\");\n        setToken('');\n      }\n    }).catch(err => {\n      console.log(err);\n      setErrorMessage(\"Authorization error\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sign-in-root\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"sign-in-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-in-control\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Enter your admin credentials\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-in-control\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          autoFocus: true,\n          type: \"text\",\n          className: \"sign-in-input\",\n          id: \"sign-in-username\",\n          placeholder: \"Username\",\n          onChange: ({\n            target\n          }) => setUsername(target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-in-control\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"sign-in-input\",\n          id: \"sign-in-password\",\n          placeholder: \"Password\",\n          onChange: ({\n            target\n          }) => setPassword(target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-in-submit\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"sign-in-button\",\n          className: \"sign-in-button\",\n          onClick: () => handleSubmit(),\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faSignIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), \"\\xA0\\xA0Sign In\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sign-in-control\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"sign-in-error\",\n            children: errorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(SignIn, \"L3vV+DiXHyc2hFOpw4ShNMG5Aa8=\");\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faSignIn","jsxDEV","_jsxDEV","SignIn","onTokenValidated","_s","username","setUsername","password","setPassword","token","setToken","localStorage","getItem","errorMessage","setErrorMessage","handleSubmit","urlencoded","URLSearchParams","append","process","env","REACT_APP_CLIENT_SECRET","response","fetch","REACT_APP_PORTAL_URL","method","headers","redirect","body","json","then","res","access_token","setItem","catch","err","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","autoFocus","type","id","placeholder","onChange","target","value","onClick","icon","_c","$RefreshReg$"],"sources":["/home/ali/dt/wyn/ghrepos/embedded/WynBlogApplication_React/src/components/SignIn.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignIn } from '@fortawesome/free-solid-svg-icons';\n\nconst SignIn = ({ onTokenValidated }) => {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [token, setToken] = useState(localStorage.getItem('WinEnterpriseToken'));\n    const [errorMessage, setErrorMessage] = useState('');\n    \n    const handleSubmit = async () => {\n        var urlencoded = new URLSearchParams();\n        urlencoded.append(\"grant_type\", \"password\");\n        urlencoded.append(\"username\", username);\n        urlencoded.append(\"password\", password);\n        urlencoded.append(\"client_id\", \"integration\");\n        urlencoded.append(\"client_secret\", process.env.REACT_APP_CLIENT_SECRET);\n\n        const response = await fetch(process.env.REACT_APP_PORTAL_URL + \"/connect/token\", {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/x-www-form-urlencoded',\n            },\n            redirect: 'follow',\n            body: urlencoded\n        });\n\n        await response.json().then(res => {\n            var token = res.access_token;\n            if (token) {\n                setToken(token);\n                setErrorMessage(\"\");\n                localStorage.setItem('WinEnterpriseToken', token);\n            } else {\n                setErrorMessage(\"Authorization error\");\n                setToken('');\n            }\n        }).catch(err => {\n            console.log(err);\n            setErrorMessage(\"Authorization error\");\n        });\n    }\n\n    return (\n        <div className=\"sign-in-root\">\n            <form className=\"sign-in-form\">\n                <div className=\"sign-in-control\">\n                    <h3>Enter your admin credentials</h3>\n                </div>\n                <div className=\"sign-in-control\">\n                    <input autoFocus type=\"text\" className=\"sign-in-input\" id=\"sign-in-username\" placeholder=\"Username\" onChange={({ target }) => setUsername(target.value)} />\n                </div>\n                <div className=\"sign-in-control\">\n                    <input type=\"password\" className=\"sign-in-input\" id=\"sign-in-password\" placeholder=\"Password\" onChange={({ target }) => setPassword(target.value)} />\n                </div>\n                <div className=\"sign-in-submit\">\n                <button id=\"sign-in-button\" className=\"sign-in-button\" onClick={() => handleSubmit()}>\n                    <FontAwesomeIcon icon={faSignIn} />&nbsp;&nbsp;Sign In\n                </button>\n                </div>\n                <div className=\"sign-in-control\">\n                    <div>\n                        <label className=\"sign-in-error\">{errorMessage}</label>\n                    </div>\n                </div>\n            </form>\n        </div>\n    );\n}\n\nexport default SignIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}